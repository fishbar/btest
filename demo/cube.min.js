!function(e,t){function n(){}function r(e){var t=e.indexOf(l);return t>0?u[e.substr(0,t)]+e.substr(t+1):null}function a(e,t,n){if(3===arguments.length){var r=new a(e);r.load(t,n)}else this.name=e?e:"_",this.base=s,this.charset=f}function i(e,t){if(void 0!==t){var n=a._cached[e];a.css(n,t,e)}return a._cached[e]}function o(e,t,n){if("function"!=typeof t){if(!m)return void console.warn("[Cube] dynamic loading css disabled!");a.use(e,function(r){a.css(r,t,e),n&&n(r)})}else a.use(e,t)}function c(e){var t,n,r=a._flag,i={};if(t=r[e]){for(var o=t.length-1;o>=0;o--)n=t[o](e),n!==!1&&(t.splice(o,1),o=t.length,n&&(i[n]=!0));t.length||delete r[e];for(o in i)c(o)}}var s="",u={},l=":",f="utf-8",d=(new Date).getTime(),_=1e4,h=!1,m=!1,g=window.localStorage?window.localStorage.getItem("__cube_debug__"):!1,v=document.getElementsByTagName("head")[0];a.toString=function(){return"Cube:v0.2.3"},a.init=function(e){if(e.base&&"/"!==e.base&&(s=e.base.replace(/\/$/,"")),e.remoteBase)for(var t in e.remoteBase)u[t]=e.remoteBase[t].replace(/\/$/,"");return e.charset&&(f=e.charset),e.version&&(d=e.version),e.debug&&(h=e.debug),e.timeout&&(_=e.timeout),e.enableCss&&(m=e.enableCss),this},a.debug=function(){if(window.localStorage){var e=localStorage.getItem("__cube_debug__");e?localStorage.removeItem("__cube_debug__"):localStorage.setItem("__cube_debug__",!0)}},a.use=function(e,t){if(!e)throw new Error("Cube.use(moduleName) moduleName is undefined!");t||(t=n),-1===e.indexOf(l)&&(0===e.indexOf("./")?e=e.substr(1):"/"!==e[0]&&(e="/"+e));var r=new a;return r.load(e,function(n,r,a){t(a(e))}),this},a.css=function(){},a.remove=function(){},a.register=function(e,t){var n=this._cached[e];n?console.error("module already registered:",e):this._cached[e]=t},a._cached={},a._flag={},a._tree={},a.module=function(e){return this._cached[e]},a.prototype={load:function(e,t){var n=this.name,r=e;"string"==typeof r&&setTimeout(function(){a._flag[e]&&console.error("load script timeout:",e)},_),r?"string"==typeof r&&(r=[r]):r=[];var i=r.length,o=[],c=!1;if(this._load_stack={req:o,total:i,cb:t,count:0},i){for(var s,u=0;i>u;u++)s=r[u],h&&(a._tree[s]||(a._tree[s]={}),a._tree[s][n]=!0,c=this._checkCycle(s)),c||(o.push(s),this._loadScript(s));o.length||this._leafMod(t)}else this._leafMod(t)},_leafMod:function(t){var n,r={exports:{}};t&&(n=t.apply(e,[r,r.exports,i,o,"",""])),n?n.__filename=this.name:n=!0,a._cached[this.name]=n,c(this.name)},_checkCycle:function(e,t){t||(t=[e]);var n,r,i=a._tree[e];if(!i)return!1;for(var o in i){if(-1!==t.indexOf(o))return t.unshift(o),console.warn("[WARNNING]","cycle require : "+t.join(" > ")),!0;if(n=t.slice(0),n.unshift(o),r=this._checkCycle(o,n))return!0}return!1},_loadScript:function(t){function n(t){var n=u._load_stack,r=!1;if(a._cached[t]&&(n.count++,r=u.name),n.total<=n.count){var c,s={exports:{}},l=u.name,f=l.replace(/[^\/]*$/,"");n.cb&&(c=n.cb.apply(e,[s,s.exports,i,o,l,f])),c?c.__filename=u.name:c=!0,a._cached[u.name]=c}return r}var s=a._cached[t],u=this,l=a._flag;if(s)return l=n(t),void(l!==!1&&c(l));if(s===!1)return void l[t].push(n);l[t]||(l[t]=[]),l[t].push(n),a._cached[t]=!1;var f=v.appendChild(document.createElement("script"));f.type="text/javascript",f.async="true",f.charset=this.charset,g&&!/\.\w+\.js$/.test(t)&&(t=t.replace(/\.js$/,".source.js"));var _=[r(t)||this.base+t,"?m=1&",d].join("");f.src=_}},t=t||"Cube",e[t]?console.log("window."+t+' already in using, replace the last "null" param in cube.js'):e[t]=a}(window,null);
// css
!function(t){var e=/\}\n?([\s\S]*?)\{/g;t.css=function(t,n,r){if(!t){return}if(n){t="}"+t;t=t.replace(e,function(t,e,r,i){var s=e.split(",").map(function(t){return n+" "+t.trim()});s=s.join(",");return"}\n"+s+"{"});t=t.slice(1)}var i=document.getElementsByTagName("HEAD")[0];var s=document.createElement("style");s.setAttribute("type","text/css");s.setAttribute("mod",r);if(n){s.setAttribute("ns",n)}i.appendChild(s);s.innerHTML=t}}(Cube);
// ejs
Cube.register("ejs_runtime",function(){var r={};r.first=function(r){return r[0]};r.last=function(r){return r[r.length-1]};r.capitalize=function(r){r=String(r);return r[0].toUpperCase()+r.substr(1,r.length)};r.downcase=function(r){return String(r).toLowerCase()};r.upcase=function(r){return String(r).toUpperCase()};r.sort=function(r){return Object.create(r).sort()};r.sort_by=function(r,n){return Object.create(r).sort(function(r,t){r=r[n],t=t[n];if(r>t)return 1;if(r<t)return-1;return 0})};r.size=r.length=function(r){return r.length};r.plus=function(r,n){return Number(r)+Number(n)};r.minus=function(r,n){return Number(r)-Number(n)};r.times=function(r,n){return Number(r)*Number(n)};r.divided_by=function(r,n){return Number(r)/Number(n)};r.join=function(r,n){return r.join(n||", ")};r.truncate=function(r,n,t){r=String(r);if(r.length>n){r=r.slice(0,n);if(t)r+=t}return r};r.truncate_words=function(r,n){var r=String(r),t=r.split(/ +/);return t.slice(0,n).join(" ")};r.replace=function(r,n,t){return String(r).replace(n,t||"")};r.prepend=function(r,n){return Array.isArray(r)?[n].concat(r):n+r};r.append=function(r,n){return Array.isArray(r)?r.concat(n):r+n};r.map=function(r,n){return r.map(function(r){return r[n]})};r.reverse=function(r){return Array.isArray(r)?r.reverse():String(r).split("").reverse().join("")};r.get=function(r,n){return r[n]};r.json=function(r){return JSON.stringify(r)};return r}());
// jade
Cube.register("jade_runtime",function(){var r={};function e(r,t){if(arguments.length===1){var a=r[0];for(var i=1;i<r.length;i++){a=e(a,r[i])}return a}var s=r["class"];var f=t["class"];if(s||f){s=s||[];f=f||[];if(!Array.isArray(s))s=[s];if(!Array.isArray(f))f=[f];r["class"]=s.concat(f).filter(n)}for(var l in t){if(l!="class"){r[l]=t[l]}}return r}r.merge=e;function n(r){return r!=null&&r!==""}r.joinClasses=t;function t(r){return Array.isArray(r)?r.map(t).filter(n).join(" "):r}function a(e,n){var a=[];for(var i=0;i<e.length;i++){if(n&&n[i]){a.push(r.escape(t([e[i]])))}else{a.push(t(e[i]))}}var s=t(a);if(s.length){return' class="'+s+'"'}else{return""}}r.cls=a;function i(e,n,t,a){if("boolean"==typeof n||null==n){if(n){return" "+(a?e:e+'="'+e+'"')}else{return""}}else if(0==e.indexOf("data")&&"string"!=typeof n){return" "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"}else if(t){return" "+e+'="'+r.escape(n)+'"'}else{return" "+e+'="'+n+'"'}}r.attr=i;function s(e,n){var a=[];var i=Object.keys(e);if(i.length){for(var s=0;s<i.length;++s){var f=i[s],l=e[f];if("class"==f){if(l=t(l)){a.push(" "+f+'="'+l+'"')}}else{a.push(r.attr(f,l,false,n))}}}return a.join("")}r.attrs=s;function f(r){var e=String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");if(e===""+r)return r;else return e}r.escape=f;function l(r,e,n,t){if(!(r instanceof Error))throw r;if((typeof window!="undefined"||!e)&&!t){r.message+=" on line "+n;throw r}try{t=t||_dereq_("fs").readFileSync(e,"utf8")}catch(a){l(r,null,n)}var i=3,s=t.split("\n"),f=Math.max(n-i,0),u=Math.min(s.length,n+i);var i=s.slice(f,u).map(function(r,e){var t=e+f+1;return(t==n?"  > ":"    ")+t+"| "+r}).join("\n");r.path=e;r.message=(e||"Jade")+":"+n+"\n"+i+"\n\n"+r.message;throw r}r.rethrow=l;return r}());